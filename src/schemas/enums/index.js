/**
 * @file enums/index.js
 * @description Централизованные справочники (enums) для валидации данных
 * Соответствует официальным XSD схемам Минстроя v01.05
 */

/**
 * Регионы РФ (коды субъектов)
 * Используется в Address.Region (обязательное поле)
 * Тип XSD: tRegionsRF
 */
exports.REGIONS_RF = {
  '01': 'Республика Адыгея',
  '02': 'Республика Башкортостан',
  '03': 'Республика Бурятия',
  '04': 'Республика Алтай',
  '05': 'Республика Дагестан',
  '06': 'Республика Ингушетия',
  '07': 'Кабардино-Балкарская Республика',
  '08': 'Республика Калмыкия',
  '09': 'Карачаево-Черкесская Республика',
  '10': 'Республика Карелия',
  '11': 'Республика Коми',
  '12': 'Республика Марий Эл',
  '13': 'Республика Мордовия',
  '14': 'Республика Саха (Якутия)',
  '15': 'Республика Северная Осетия — Алания',
  '16': 'Республика Татарстан',
  '17': 'Республика Тыва',
  '18': 'Удмуртская Республика',
  '19': 'Республика Хакасия',
  '20': 'Чеченская Республика',
  '21': 'Чувашская Республика',
  '22': 'Алтайский край',
  '23': 'Краснодарский край',
  '24': 'Красноярский край',
  '25': 'Приморский край',
  '26': 'Ставропольский край',
  '27': 'Хабаровский край',
  '28': 'Амурская область',
  '29': 'Архангельская область',
  '30': 'Астраханская область',
  '31': 'Белгородская область',
  '32': 'Брянская область',
  '33': 'Владимирская область',
  '34': 'Волгоградская область',
  '35': 'Вологодская область',
  '36': 'Воронежская область',
  '37': 'Ивановская область',
  '38': 'Иркутская область',
  '39': 'Калининградская область',
  '40': 'Калужская область',
  '41': 'Камчатский край',
  '42': 'Кемеровская область',
  '43': 'Кировская область',
  '44': 'Костромская область',
  '45': 'Курганская область',
  '46': 'Курская область',
  '47': 'Ленинградская область',
  '48': 'Липецкая область',
  '49': 'Магаданская область',
  '50': 'Московская область',
  '51': 'Мурманская область',
  '52': 'Нижегородская область',
  '53': 'Новгородская область',
  '54': 'Новосибирская область',
  '55': 'Омская область',
  '56': 'Оренбургская область',
  '57': 'Орловская область',
  '58': 'Пензенская область',
  '59': 'Пермский край',
  '60': 'Псковская область',
  '61': 'Ростовская область',
  '62': 'Рязанская область',
  '63': 'Самарская область',
  '64': 'Саратовская область',
  '65': 'Сахалинская область',
  '66': 'Свердловская область',
  '67': 'Смоленская область',
  '68': 'Тамбовская область',
  '69': 'Тверская область',
  '70': 'Томская область',
  '71': 'Тульская область',
  '72': 'Тюменская область',
  '73': 'Ульяновская область',
  '74': 'Челябинская область',
  '75': 'Забайкальский край',
  '76': 'Ярославская область',
  '77': 'город Москва',
  '78': 'Санкт-Петербург',
  '79': 'Еврейская автономная область',
  '83': 'Ненецкий автономный округ',
  '86': 'Ханты-Мансийский автономный округ — Югра',
  '87': 'Чукотский автономный округ',
  '89': 'Ямало-Ненецкий автономный округ',
  '91': 'Республика Крым',
  '92': 'город Севастополь'
};

/**
 * ОКЕИ - Общероссийский классификатор единиц измерения
 * Используется в PowerIndicator.Measure, Resources.Measure
 * Источник: ОК 015-94 (МК 002-97)
 */
exports.OKEI = {
  '006': { code: '006', name: 'метр', symbol: 'м' },
  '055': { code: '055', name: 'квадратный метр', symbol: 'м²' },
  '113': { code: '113', name: 'кубический метр', symbol: 'м³' },
  '163': { code: '163', name: 'литр', symbol: 'л' },
  '166': { code: '166', name: 'кубический метр в час', symbol: 'м³/ч' },
  '212': { code: '212', name: 'тысяча кубических метров', symbol: 'тыс. м³' },
  '245': { code: '245', name: 'киловатт', symbol: 'кВт' },
  '246': { code: '246', name: 'киловатт-час', symbol: 'кВт·ч' },
  '260': { code: '260', name: 'мегаватт', symbol: 'МВт' },
  '273': { code: '273', name: 'гигакалория', symbol: 'Гкал' },
  '323': { code: '323', name: 'гигакалория в час', symbol: 'Гкал/ч' },
  '625': { code: '625', name: 'лист', symbol: 'лист' },
  '642': { code: '642', name: 'место', symbol: 'мест' },
  '796': { code: '796', name: 'штука', symbol: 'шт' },
  '831': { code: '831', name: 'тысяча штук', symbol: 'тыс. шт' },
  '867': { code: '867', name: 'человек', symbol: 'чел' },
  '878': { code: '878', name: 'тысяча человек', symbol: 'тыс. чел' }
};

/**
 * Климатические районы (подрайоны) СП 131.13330
 * Используется в ClimateConditions.ClimateDistrict
 * Тип XSD: tClimateDistrict
 */
exports.CLIMATE_DISTRICTS = [
  'I', 'IА', 'IБ', 'IВ', 'IГ', 'IД',
  'II', 'IIА', 'IIБ', 'IIВ', 'IIГ',
  'III', 'IIIА', 'IIIБ', 'IIIВ',
  'IV', 'IVА', 'IVБ', 'IVВ', 'IVГ'
];

/**
 * Снеговые районы СП 20.13330
 * Используется в ClimateConditions.SnowDistrict
 * Тип XSD: tSnowDistrict
 */
exports.SNOW_DISTRICTS = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII'];

/**
 * Ветровые районы СП 20.13330
 * Используется в ClimateConditions.WindDistrict
 * Тип XSD: tWindDistrict
 * ВАЖНО: Использует кириллицу "а" в "Iа"!
 */
exports.WIND_DISTRICTS = ['Iа', 'I', 'II', 'III', 'IV', 'V', 'VI', 'VII'];

/**
 * Интенсивность сейсмических воздействий (баллы)
 * Используется в ClimateConditions.SeismicActivity
 * Тип XSD: tSeismicActivity
 */
exports.SEISMIC_ACTIVITY = {
  '5': '5 и менее баллов',
  '6': '6',
  '7': '7',
  '8': '8',
  '9': '9',
  '10': 'Более 9 баллов'
};

/**
 * Инженерно-геологические условия СП 11-105-97
 * Используется в ClimateConditions.GeologicalConditions
 */
exports.GEOLOGICAL_CONDITIONS = {
  'I': 'I (простые)',
  'II': 'II (средней сложности)',
  'III': 'III (сложные)'
};

/**
 * Виды работ (XSD требует integer enum!)
 * Используется в NonIndustrialObject.ConstructionType
 * Тип XSD: tConstructionType (integer 1-5)
 */
exports.CONSTRUCTION_TYPES = {
  1: 'Строительство',
  2: 'Реконструкция',
  3: 'Капитальный ремонт',
  4: 'Снос',
  5: 'Сохранение объекта культурного наследия'
};

/**
 * Обратный mapping для удобства (текст → код)
 */
exports.CONSTRUCTION_TYPES_REVERSE = {
  'Новое строительство': 1,
  'Строительство': 1,
  'Реконструкция': 2,
  'Капитальный ремонт': 3,
  'Капремонт': 3,
  'Снос': 4,
  'Сохранение объекта культурного наследия': 5,
  'Техническое перевооружение': 3 // Маппится на капремонт
};

/**
 * Категории земель (XSD требует string код '1'-'7')
 * Используется в NonIndustrialObject.LandCategory
 * Тип XSD: tLandCategory (строковый код)
 */
exports.LAND_CATEGORIES = {
  '1': 'Земли сельскохозяйственного назначения',
  '2': 'Земли населенных пунктов',
  '3': 'Земли промышленности, энергетики, транспорта, связи, радиовещания, телевидения, информатики, земли для обеспечения космической деятельности, земли обороны, безопасности и земли иного специального назначения',
  '4': 'Земли особо охраняемых территорий и объектов',
  '5': 'Земли лесного фонда',
  '6': 'Земли водного фонда',
  '7': 'Земли запаса'
};

/**
 * Обратный mapping для удобства (текст → код)
 */
exports.LAND_CATEGORIES_REVERSE = {
  'Земли населённых пунктов': '2',
  'Земли населенных пунктов': '2',
  'Земли сельскохозяйственного назначения': '1',
  'Земли промышленности': '3',
  'Земли промышленности, энергетики, транспорта, связи, радиовещания, телевидения, информатики, земли для обеспечения космической деятельности, земли обороны, безопасности и земли иного специального назначения': '3',
  'Земли особо охраняемых территорий': '4',
  'Земли особо охраняемых территорий и объектов': '4',
  'Земли лесного фонда': '5',
  'Земли водного фонда': '6',
  'Земли запаса': '7'
};

/**
 * Класс энергетической эффективности
 * Используется в EnergyEfficiency.EnergyEfficiencyClass
 * Тип XSD: tEfficiencyClass
 */
exports.ENERGY_EFFICIENCY_CLASSES = [
  'Не классифицируется',
  'A++',
  'A+',
  'A',
  'B',
  'C',
  'D',
  'E',
  'F',
  'G'
];

/**
 * Категория пожарной и взрывопожарной опасности
 * Используется в NonIndustrialObject.FireDangerCategory
 * Тип XSD: tFireDangerCategory
 */
exports.FIRE_DANGER_CATEGORIES = [
  'Категория не устанавливается',
  'А',
  'Б',
  'В',
  'Г',
  'Д'
];

/**
 * Уровень ответственности
 * Используется в NonIndustrialObject.ResponsibilityLevel
 * Тип XSD: tResponsibilityLevel
 */
exports.RESPONSIBILITY_LEVELS = [
  'повышенный',
  'нормальный',
  'пониженный'
];

/**
 * Место расположения объекта
 * Используется в NonIndustrialObject/@Placement (attribute)
 * Тип XSD: tPlacement
 */
exports.PLACEMENT_TYPES = {
  '1': 'Объекты, расположенные на суше',
  '2': 'Водный объект'
};

/**
 * Степень огнестойкости здания
 * Используется в разделе 7 (Пожарная безопасность)
 */
exports.FIRE_RESISTANCE_DEGREES = ['I', 'II', 'III', 'IV', 'V'];

/**
 * Класс конструктивной пожарной опасности
 * Используется в разделе 7 (Пожарная безопасность)
 */
exports.CONSTRUCTIVE_FIRE_HAZARD_CLASSES = ['С0', 'С1', 'С2', 'С3'];

/**
 * Класс функциональной пожарной опасности
 * Используется в разделе 7 (Пожарная безопасность)
 */
exports.FUNCTIONAL_FIRE_HAZARD_CLASSES = [
  'Ф1.1', 'Ф1.2', 'Ф1.3', 'Ф1.4',
  'Ф2.1', 'Ф2.2', 'Ф2.3', 'Ф2.4',
  'Ф3.1', 'Ф3.2', 'Ф3.3', 'Ф3.4', 'Ф3.5', 'Ф3.6',
  'Ф4.1', 'Ф4.2', 'Ф4.3', 'Ф4.4',
  'Ф5.1', 'Ф5.2', 'Ф5.3'
];

/**
 * Категория надёжности электроснабжения
 * Используется в разделе 6 (Инженерное оборудование)
 */
exports.POWER_RELIABILITY_CATEGORIES = ['I', 'II', 'III'];

/**
 * Типы фундаментов
 */
exports.FOUNDATION_TYPES = [
  'Ленточный',
  'Столбчатый',
  'Свайный',
  'Плитный',
  'Комбинированный'
];

/**
 * Материалы стен
 */
exports.WALL_TYPES = [
  'Кирпич',
  'Бетон монолитный',
  'Бетон сборный',
  'Деревянный брус',
  'Каркас металлический',
  'Каркас железобетонный',
  'Комбинированный'
];

/**
 * Типы перекрытий
 */
exports.FLOOR_TYPES = [
  'Монолитные железобетонные',
  'Сборные железобетонные',
  'Деревянные',
  'Металлические',
  'Комбинированные'
];

/**
 * Типы кровли
 */
exports.ROOF_TYPES = [
  'Плоская',
  'Скатная',
  'Эксплуатируемая',
  'Неэксплуатируемая'
];

/**
 * Вспомогательная функция для получения кода региона по названию
 * @param {string} regionName - Название региона
 * @returns {string|null} - Код региона или null
 */
exports.getRegionCode = (regionName) => {
  const entries = Object.entries(exports.REGIONS_RF);
  const found = entries.find(([code, name]) =>
    name.toLowerCase() === regionName.toLowerCase()
  );
  return found ? found[0] : null;
};

/**
 * Вспомогательная функция для получения названия региона по коду
 * @param {string} regionCode - Код региона
 * @returns {string|null} - Название региона или null
 */
exports.getRegionName = (regionCode) => {
  return exports.REGIONS_RF[regionCode] || null;
};

/**
 * Вспомогательная функция для получения информации о единице измерения
 * @param {string} okeiCode - Код ОКЕИ
 * @returns {Object|null} - Объект с информацией или null
 */
exports.getOKEI = (okeiCode) => {
  return exports.OKEI[okeiCode] || null;
};

/**
 * Конвертация constructionType из текста в код
 * @param {string} textValue - Текстовое значение
 * @returns {number|null} - Числовой код или null
 */
exports.convertConstructionTypeToCode = (textValue) => {
  return exports.CONSTRUCTION_TYPES_REVERSE[textValue] || null;
};

/**
 * Конвертация constructionType из кода в текст
 * @param {number} codeValue - Числовой код
 * @returns {string|null} - Текстовое значение или null
 */
exports.convertConstructionTypeToText = (codeValue) => {
  return exports.CONSTRUCTION_TYPES[codeValue] || null;
};

/**
 * Конвертация landCategory из текста в код
 * @param {string} textValue - Текстовое значение
 * @returns {string|null} - Строковый код или null
 */
exports.convertLandCategoryToCode = (textValue) => {
  return exports.LAND_CATEGORIES_REVERSE[textValue] || null;
};

/**
 * Конвертация landCategory из кода в текст
 * @param {string} codeValue - Строковый код
 * @returns {string|null} - Текстовое значение или null
 */
exports.convertLandCategoryToText = (codeValue) => {
  return exports.LAND_CATEGORIES[codeValue] || null;
};
